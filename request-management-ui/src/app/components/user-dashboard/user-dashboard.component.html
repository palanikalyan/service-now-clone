<div class="dashboard-container">
    <h2>Software Request Dashboard</h2>

    <div class="create-section">
        <h3>Create New Request</h3>
        <form (ngSubmit)="create()" #requestForm="ngForm">
            <label>
                Title
                <input 
                    name="title" 
                    [(ngModel)]="title" 
                    required 
                    placeholder="Enter request title"
                />
            </label>
            <label>
                Description
                <textarea 
                    name="description" 
                    [(ngModel)]="description" 
                    required
                    placeholder="Describe your software request..."
                ></textarea>
            </label>
            <button type="submit" [disabled]="!requestForm.form.valid">Submit Request</button>
        </form>
    </div>

    <div class="requests-section">
        <h3>Your Requests</h3>
        <div *ngIf="requests.length === 0" class="no-requests">
            You haven't made any requests yet.
        </div>
        <ul>
            <li *ngFor="let r of requests">
                <strong>{{ r.title }}</strong>
                <span class="status" [ngClass]="{
                    'pending': !r.status || r.status === 'PENDING',
                    'approved': r.status === 'APPROVED',
                    'rejected': r.status === 'REJECTED'
                }">
                    {{ r.status || 'PENDING' }}
                </span>
                <div class="description">{{ r.description }}</div>
                <div class="date" *ngIf="r.createdAt">
                    Submitted: {{ r.createdAt | date:'medium' }}
                </div>
            </li>
        </ul>
    </div>
</div>
